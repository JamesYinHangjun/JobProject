<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <canvas id="canvas">

    </canvas>

    <script>
        var canvas = document.getElementById("canvas");
        canvas.width =  600 ;
        canvas.height = 600 ;
        canvas.style.border = "1px solid #ccc";
        var ctx = canvas.getContext("2d");

        var data = [{
            "value": 0.4,
            "color": "red",
            "title": "应届生"
        },
        {
            "value": 0.2,
            "color": "blue",
            "title": "老学员推荐"
        },
        {
            "value": 0.3,
            "color": "green",
            "title": "社招"
        },
        {
            "value": 0.1,
            "color": "#ccc",
            "title": "公开课"
        }];

        var beginAngle = 0;
        var endAngle = 0;
        var data1 = data[0];
        ctx.beginPath();
        ctx.moveTo(300,300);
        ctx.arc(300,300,200,beginAngle * Math.PI / 180 ,360 * data1.value * Math.PI / 180);
        ctx.fillStyle = data1.color;
        ctx.fill();

        var data2 = data[1];
        ctx.beginPath();
        ctx.moveTo(300,300);
        beginAngle = endAngle + 360*data1.value;
        endAngle = beginAngle + 360 * data2.value;
        ctx.arc(300,300,200,beginAngle * Math.PI / 180 ,endAngle * Math.PI / 180);
        ctx.fillStyle = data2.color;
        ctx.fill();

        var data3 = data[2];
        ctx.beginPath();
        ctx.moveTo(300,300);
        beginAngle = endAngle ;
        endAngle = beginAngle + 360 * data3.value;
        ctx.arc(300,300,200,beginAngle * Math.PI / 180 ,endAngle * Math.PI / 180);
        ctx.fillStyle = data3.color;
        ctx.fill();

        var data4 = data[3];
        ctx.beginPath();
        ctx.moveTo(300,300);
        beginAngle = endAngle ;
        endAngle = beginAngle + 360 * data4.value;
        ctx.arc(300,300,200,beginAngle * Math.PI / 180 ,endAngle * Math.PI / 180);
        ctx.fillStyle = data4.color;
        ctx.fill();

    </script>


</body>
</html>
